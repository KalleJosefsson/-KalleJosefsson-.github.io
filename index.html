<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 1: Aligning RGB images and then processing the results</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        header {
            text-align: center;
            margin-bottom: 50px;
        }
        h1 {
            font-size: 2.5em;
            color: #4CAF50;
        }
        h2 {
            color: #4CAF50;
        }
        p {
            font-size: 1.2em;
            line-height: 1.6em;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 20px 0;
        }
        section {
            margin-bottom: 40px;
        }
        footer {
            text-align: center;
            margin-top: 50px;
            font-size: 0.8em;
            color: #777;
        }
        .screenshot {
            display: flex;
            justify-content: center;
        }
    </style>
</head>
<body>
    <header>
        <h1>Aligning RGB images and then processing the results</h1>
    </header>

    <!-- Introduction Section -->
    <section>
        <h2>Introduction</h2>
        <p>
            In this project, I developed three algorithms that tackle the task of image alignment similarly. 
            For handling smaller JPEG images with fewer pixels and smaller displacements, I used normal Mean Squared Error (MSE) 
            for each pixel in the middle part of the image (to ignore the edges), and then I shifted the image one pixel at a time 
            to find the best alignment. For larger images, this was not effective, so I compressed the image using convolutions 
            with 3x3 kernels and performed average pooling. This was done twice, compressing the image to be 1/81 the size of the original image. 
            After that, I found the best alignment using the same algorithm as for the JPEGs.
        </p>
        <p>
            Moving up a level in the pyramid, I shifted the image based on the findings at the lower level and repeated, 
            now the image was 1/9 the size of the original image, which resulted in a better match. The final shift was 
            then done on the original image to get the best possible alignment. For some images, pixel-based alignment was 
            not sufficient, so I developed an algorithm based on edges and features instead, using a Sobel filter followed 
            by the same pyramid alignment procedure. This worked well, and the results are presented below.
        </p>

        <p>
    After the image alignment, I also made some automatic refinements to enhance the final result. First, I cropped the image to remove the edges of the frame, which often contain unwanted color artifacts or white spaces. This was achieved by removing rows and columns with low variance compared to the rest of the image, ensuring that only the significant portion of the image is retained.
        
    After cropping, I enhanced the image by increasing the contrast. This was done using a technique that passes the image through a Gaussian filter. Specifically, I applied a Gaussian blur to the image, and then subtracted the blurred image from the original to isolate the high-frequency details (sharp edges and features). This creates a "high-pass" filter effect, which emphasizes the details and suppresses smoother areas.
        
    The enhancement was then done by adding the high-pass filtered details back to the original image with an adjustable intensity controlled by a parameter `alpha`. This process boosts the contrast and sharpness, making the features more pronounced. Finally, I clipped the pixel values to ensure they remain within a valid range (0 to 1), preserving the color integrity of the image.
    </p>

    </section>

    <!-- TIF Image Before Processing Section -->
    <section>
        <h2> TIF Image Before Processing and Alignment</h2>
        <div class="screenshot">
            <!-- Insert image before processing -->
            <img src="./images/rgb_train_unaligned.jpg" alt="Image before processing and alignment">
        </div>
        <p>
            The image above shows the original image before processing and alignment without shifts.
        </p>
    </section>

    <!--TIF Image After Processing Section -->
    <section>
        <h2>TIF Image After Alignment </h2>
        <div class="screenshot">
            <!-- Insert image after processing -->
            <img src="./images/rgb_tobolsk.jpg" alt="Image after alignment and processing">
        </div>
        <p>
            The image above shows the processed image after applying the simple alignment function.
        </p>
    </section>

    <!--TIF Image After alignment, automatic edgecrop and contrast enhancement  -->
    <section>
        <h2>TIF Image After Alignment and Processing</h2>
        <div class="screenshot">
            <!-- Insert image after processing -->
            <img src="./images/rgb_tobolsk_final.jpg" alt="Image after alignment and processing">
        </div>
        <p>
            The image above shows the processed image after applying the alignment and image enhancement algorithms.
        </p>
    </section>

    <!-- Footer Section -->
    <footer>
        <p>Â© 2024 Kalle's Portfolio | Project 1: Aligning RGB Images</p>
        <p>Contact: <a href="mailto:your.email@example.com">your.email@example.com</a></p>
    </footer>
</body>
</html>
